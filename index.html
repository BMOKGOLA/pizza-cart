<!DOCTYPE html>
<html lang="en" x-data="pizzaCart()">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfect Pizza</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body>
    <section>
        <h1 class="heading">Pizza Home</h1>
    

    <div x-data="{
        sCount: 0,
        mCount: 0,
        lCount: 0,
        total: 0,
        isCheckout: false,
        inputValue: '',
        message: '',
        showMessage: function(msg) {
            this.message = msg;
            setTimeout(() => this.message = '', 3000); // Message disappears after 3 seconds
        },
        clearCart: function() {
            this.sCount = 0;
            this.mCount = 0;
            this.lCount = 0;
            this.total = 0;
        }
    }">
        <section class="Perfect">
            <section>
                Small: R49,99
                <button x-on:click="sCount++; total += 49.99">+</button>
                <button x-on:click="sCount = Math.max(sCount - 1, 0); total = Math.max(total - 49.99, 0)">-</button>
                <span x-text="sCount"></span>
            </section>
            <section>
                Medium: R99,99
                <button x-on:click="mCount++; total += 99.99">+</button>
                <button x-on:click="mCount = Math.max(mCount - 1, 0); total = Math.max(total - 99.99, 0)">-</button>
                <span x-text="mCount"></span>
            </section>
            <section>
                Large: R149,99
                <button x-on:click="lCount++; total += 149.99">+</button>
                <button x-on:click="lCount = Math.max(lCount - 1, 0); total = Math.max(total - 149.99, 0)">-</button>
                <span x-text="lCount"></span>
            </section>

            <div class="checkout" x-show="sCount > 0 || mCount > 0 || lCount > 0">
                <p>Total cost: R<span x-text="total.toFixed(2)"></span></p>
                <button @click="isCheckout = true">Check out</button>
            </div>

            <div class="messages">
                <p x-show="message" x-text="message" @click="message = ''"></p>
            </div>

            <div x-show="isCheckout">
                <p>Message goes here</p>
                <label>
                    Payment amount:
                    <input type="text" x-model="inputValue">
                </label>
                <button @click="
                    if (parseFloat(inputValue) >= total) {
                        showMessage('Enjoy your pizzas');
                        clearCart();
                        isCheckout = false;
                    } else {
                        showMessage('Sorry - your payment is not enough!');
                    }
                ">Pay</button>
            </div>
        </section>

        <div class="pizzas">
            <div class="pizza Small_Pizza">
                <img src="Pizza.jpg" width="150">
                <h2>Small Pizza</h2>
                <h3>R49.99</h3>
                <div>
                Our small pizza is perfect for a personal treat or a light meal. With a diameter of 10 inches, it’s just right for 1-2 people to enjoy. Whether you’re in the mood for a quick lunch or a cozy dinner, our small pizza delivers big flavor in a compact size. Servings: 1-2 people. Ideal for: Individual meals, light eaters, or sharing a snack.
                </div>
                <button @click="sCount++; total += 49.99">Buy</button>
            </div>

            <div class="pizza Medium_Pizza">
                <img src="pizza 2.jpg" width="180">
                <h2>Medium Pizza</h2>
                <h3>R99.99</h3>
                <div>
                The medium pizza strikes the perfect balance for a small group. At 14 inches, it offers enough delicious slices to satisfy 2-3 people. Great for a dinner date, small family meal, or a few friends hanging out, our medium pizza ensures everyone gets their fill. Servings: 2-3 people. Ideal for: Small groups, couples, or individuals who want leftovers.
                </div>
                <button @click="mCount++; total += 99.99">Buy</button>
            </div>

            <div class="pizza Large_Pizza">
                <img src="pizza 3.jpg" width="230">
                <h2>Large Pizza</h2>
                <h3>R149.99</h3>
                <div>
                Description: Our large pizza is designed to feed a crowd. With a generous 18-inch diameter, it’s perfect for 3-5 people. Ideal for family gatherings, parties, or any occasion where you need to feed multiple hungry mouths. When you need more pizza, the large size has you covered. Servings: 3-5 people. Ideal for: Families, parties, or large gatherings
                </div>
                <button @click="lCount++; total += 149.99">Buy</button>
            </div>
        </div>

        <div class="pizza contact_us">
            <h2>Contact details</h2>
            Contact us at: 0848186693 info@perfectpizza.com
        </div>
    </div>
</body>
</html>
